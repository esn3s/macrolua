#summary This document is also available in the download package.

<wiki:toc max_depth="2" />

----
= Introduction =

!TranScripter is a program to script precise sequences of commands in emulators that have input recording functionality but lack Lua support. It works by writing the scripted inputs directly into the input recording file. Currently it works with [http://code.google.com/p/mednafen-rr/ mednafen-rr 1.1].

For emulators with Lua, use [MacroLuaDocumentation MacroLua] instead.

TranScripter was created with [http://www.autoitscript.com/autoit3/index.shtml AutoIt3].

----
= Getting started with mednafen-rr =

Mednafen can be hard to use.

    * Command line help
    * Hotkey help
    * How to make an AVI

Hotkeys referenced below are the defaults and can be changed.

    * To configure controls all at once press *alt+shift+1* in game.
    * To remap a hotkey press *alt+shift+h* in game, then press the key to be changed.
    * Any setting can be changed by editing _mednafen.cfg_.
    * Refer to this key map if manually editing keys in _mednafen.cfg_.
    * If the keyboard becomes unresponsive in game try pressing *alt*.
    * Savestates saved during a movie cannot be loaded out of the movie and vice versa. Attempting this sometimes causes crash.

For launching the program, it's recommended to start out with the frontend, Mednafen-Front. If using the command line, you can copy valid commands from the !CommandLine bar in Mednafen-Front. The `-loadstate`, `-mov`, and other options must come before the ROM name. The ROM must always be last.

== Example launch commands ==

Just load a ROM:

`mednafen ROMs\myrom.zip`

Double the screen size for !NeoGeo Pocket:

`mednafen -ngp.xscale 2 -ngp.yscale 2 ROMs\myrom.zip`

Load a ROM and a savestate:

`mednafen -loadstate mcs\myrom.nc0 ROMs\myrom.zip`

Record a movie:

`mednafen -mov mcm\mymovie.mcm -record 1 ROMs\myrom.zip`

Play a movie and fast-forward with a savestate:

`mednafen -mov mcm\mymovie.mcm -play 1 -loadstate mcs\myrom.nc0 ROMs\myrom.zip`

Play a movie and record 2000 frames to an mmm file:

`mednafen -mov mcm\mymovie.mcm -play 1 -mmm 1 -mmmfile mcm\dump.mmm -mmmframes 2000 ROMs\myrom.zip`

= How to use !TranScripter =

   # Launch your game, deactivate read-only mode (*shift+t*) and start recording a movie (*ctrl+shift+r*) up to the point where you want the script to start. Save a state (*shift+F1*).
   # Stop recording (*ctrl+shift+r*) so that the mcm will be properly formatted.
   # Compose the _.mis_ script file. See below for the format.
   # Edit _!TranScripter.ini_ and designate the movie file and script file, and specify the movie frame that the script should start at. This start frame must be less than the frame length of the movie file, and must come before the savestate that will be used to fast-forward to the action.
   # Run !TranScripter. If there are no errors or warnings, there will be no feedback and the process was successful. Otherwise a box will pop up with any errors or warnings.
   # Restart movie playback (*shift+p*), load the state (*F1*), and observe the result.
   # Edit the _.mis_ file with any changes and repeat the last two steps until the desired results are achieved.

= Writing scripts =

The basic format is the same as [AutoMacroDocumentation AutoMacro]. There's no Lua, so savestate operations cannot be scripted.

The symbols for each system's keys are shown below:

=== !NeoGeo Pocket ===
||`U`||up||
||`D`||down||
||`L`||left||
||`R`||right||
||`1`||A||
||`2`||B||
||`O`||option||


=== Wonderswan ===
||`U`||X up||
||`D`||X down||
||`L`||X left||
||`R`||X right||
||`8`||Y up||
||`2`||Y down||
||`4`||Y left||
||`6`||Y right||
||`Y`||A||
||`Z`||B||
||`S`||start||


=== PC Engine ===
||`U`||up||
||`D`||down||
||`L`||left||
||`R`||right||
||`1`||I||
||`2`||II||
||`3`||III||
||`4`||IV||
||`5`||V||
||`6`||VI||
||`R`||run||
||`S`||select||
||`M`||mode||


=== Lynx ===
||`U`||up||
||`D`||down||
||`L`||left||
||`R`||right||
||`1`||A||
||`2`||B||
||`3`||option 1||
||`4`||option 2||
||`S`||start||


=== NES ===
||`U`||up||
||`D`||down||
||`L`||left||
||`R`||right||
||`1`||A||
||`2`||B||
||`@`||select||
||`S`||start||